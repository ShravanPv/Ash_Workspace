from sqlalchemy import Column, Integer, ForeignKey, DateTime, text
from sqlalchemy.dialects.postgresql import UUID, JSONB

from fusion_models.tenant.base import ClientBase


class Batch(ClientBase):
    __tablename__ = 'batches'

    id = Column(UUID(as_uuid=True), primary_key=True, server_default=text(
        'uuid_generate_v4()'))
    source_system_interface_id = Column(Integer, ForeignKey(
        'source_system_interfaces.id'), nullable=False)
    additional_info = Column(JSONB, nullable=True)
    created_on = Column(DateTime,
                        server_default=text("(now() at time zone 'utc')"))
