from datetime import datetime

from sqlalchemy import Column, String, ForeignKey, DateTime, NUMERIC, \
    Integer, text, Index, Text
from sqlalchemy.dialects.postgresql import UUID

from fusion_models.tenant.base import ClientBase


class JournalFBDICsv(ClientBase):
    __tablename__ = 'journal_fbdi_csv'

    id = Column(UUID(as_uuid=True), primary_key=True, server_default=text(
        'uuid_generate_v4()'))
    STATUS = Column(String(50), nullable=True)
    LEDGER_ID = Column(NUMERIC(18), nullable=True)
    ACCOUNTING_DATE = Column(String(32), nullable=True)
    USER_JE_SOURCE_NAME = Column(String(25), nullable=True)
    USER_JE_CATEGORY_NAME = Column(String(25), nullable=True)
    CURRENCY_CODE = Column(String(15), nullable=True)
    DATE_CREATED = Column(String(32), nullable=True)
    ACTUAL_FLAG = Column(String(1), nullable=True)
    SEGMENT1 = Column(String(25), nullable=True)
    SEGMENT2 = Column(String(25), nullable=True)
    SEGMENT3 = Column(String(25), nullable=True)
    SEGMENT4 = Column(String(25), nullable=True)
    SEGMENT5 = Column(String(25), nullable=True)
    SEGMENT6 = Column(String(25), nullable=True)
    SEGMENT7 = Column(String(25), nullable=True)
    SEGMENT8 = Column(String(25), nullable=True)
    SEGMENT9 = Column(String(25), nullable=True)
    SEGMENT10 = Column(String(25), nullable=True)
    SEGMENT11 = Column(String(25), nullable=True)
    SEGMENT12 = Column(String(25), nullable=True)
    SEGMENT13 = Column(String(25), nullable=True)
    SEGMENT14 = Column(String(25), nullable=True)
    SEGMENT15 = Column(String(25), nullable=True)
    SEGMENT16 = Column(String(25), nullable=True)
    SEGMENT17 = Column(String(25), nullable=True)
    SEGMENT18 = Column(String(25), nullable=True)
    SEGMENT19 = Column(String(25), nullable=True)
    SEGMENT20 = Column(String(25), nullable=True)
    SEGMENT21 = Column(String(25), nullable=True)
    SEGMENT22 = Column(String(25), nullable=True)
    SEGMENT23 = Column(String(25), nullable=True)
    SEGMENT24 = Column(String(25), nullable=True)
    SEGMENT25 = Column(String(25), nullable=True)
    SEGMENT26 = Column(String(25), nullable=True)
    SEGMENT27 = Column(String(25), nullable=True)
    SEGMENT28 = Column(String(25), nullable=True)
    SEGMENT30 = Column(String(25), nullable=True)
    SEGMENT29 = Column(String(25), nullable=True)
    ENTERED_DR = Column(NUMERIC, nullable=True)
    ENTERED_CR = Column(NUMERIC, nullable=True)
    ACCOUNTED_DR = Column(NUMERIC, nullable=True)
    ACCOUNTED_CR = Column(NUMERIC, nullable=True)
    REFERENCE1 = Column(String(100), nullable=True)
    REFERENCE2 = Column(String(240), nullable=True)
    REFERENCE3 = Column(String(1), nullable=True)
    REFERENCE4 = Column(String(100), nullable=True)
    REFERENCE5 = Column(String(240), nullable=True)
    REFERENCE6 = Column(String(100), nullable=True)
    REFERENCE7 = Column(String(100), nullable=True)
    REFERENCE8 = Column(String(100), nullable=True)
    REFERENCE9 = Column(String(100), nullable=True)
    REFERENCE10 = Column(String(240), nullable=True)
    REFERENCE21 = Column(String(240), nullable=True)
    REFERENCE22 = Column(String(240), nullable=True)
    REFERENCE23 = Column(String(240), nullable=True)
    REFERENCE24 = Column(String(240), nullable=True)
    REFERENCE25 = Column(String(240), nullable=True)
    REFERENCE26 = Column(String(240), nullable=True)
    REFERENCE27 = Column(String(240), nullable=True)
    REFERENCE28 = Column(String(240), nullable=True)
    REFERENCE29 = Column(String(240), nullable=True)
    REFERENCE30 = Column(String(240), nullable=True)
    STAT_AMOUNT = Column(NUMERIC, nullable=True)
    USER_CURRENCY_CONVERSION_TYPE = Column(String(30), nullable=True)
    CURRENCY_CONVERSION_DATE = Column(String(32), nullable=True)
    CURRENCY_CONVERSION_RATE = Column(NUMERIC, nullable=True)
    GROUP_ID = Column(NUMERIC(18), nullable=True)
    ATTRIBUTE_CATEGORY = Column(String(150), nullable=True)
    ATTRIBUTE1 = Column(String(150), nullable=True)
    ATTRIBUTE2 = Column(String(150), nullable=True)
    ATTRIBUTE3 = Column(String(150), nullable=True)
    ATTRIBUTE4 = Column(String(150), nullable=True)
    ATTRIBUTE5 = Column(String(150), nullable=True)
    ATTRIBUTE6 = Column(String(150), nullable=True)
    ATTRIBUTE7 = Column(String(150), nullable=True)
    ATTRIBUTE8 = Column(String(150), nullable=True)
    ATTRIBUTE9 = Column(String(150), nullable=True)
    ATTRIBUTE10 = Column(String(150), nullable=True)
    ATTRIBUTE11 = Column(String(150), nullable=True)
    ATTRIBUTE12 = Column(String(150), nullable=True)
    ATTRIBUTE13 = Column(String(150), nullable=True)
    ATTRIBUTE14 = Column(String(150), nullable=True)
    ATTRIBUTE15 = Column(String(150), nullable=True)
    ATTRIBUTE16 = Column(String(150), nullable=True)
    ATTRIBUTE17 = Column(String(150), nullable=True)
    ATTRIBUTE18 = Column(String(150), nullable=True)
    ATTRIBUTE19 = Column(String(150), nullable=True)
    ATTRIBUTE20 = Column(String(150), nullable=True)
    ATTRIBUTE_CATEGORY3 = Column(String(150), nullable=True)
    AVERAGE_JOURNAL_FLAG = Column(String(1), nullable=True)
    ORIGINATING_BAL_SEG_VALUE = Column(String(25), nullable=True)
    LEDGER_NAME = Column(String(30), nullable=True)
    ENCUMBRANCE_TYPE_ID = Column(NUMERIC, nullable=True)
    JGZZ_RECON_REF = Column(String(240), nullable=True)
    END = Column(String(16), nullable=True, default='END')

    file_record_id = Column(Integer, ForeignKey('file_records.id'),
                            nullable=False)
    file_id = Column(UUID(as_uuid=True), ForeignKey('files.id'),
                     nullable=False)
    internal_status = Column(String(64), default='PENDING', nullable=False)
    status_message = Column(Text, nullable=True)

    created_on = Column(DateTime, server_default=text('(now() at time zone '
                                                      '\'utc\')'))
    modified_on = Column(DateTime, onupdate=datetime.utcnow)

    __table_args__ = (
        Index('journal_fbdi_csv_file_id_idx', 'file_id'),
    )
